<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="theme-color" content="#0a0a0a" />
  <title>algarismx - portfolio</title>
  <meta name="description" content="Portfolio of Ricardo Gonçalves Melgar (algarismx) — Sound Designer, Sound Technician and Music Producer in Faro, Portugal.">
  <link rel="stylesheet" href="styles.css" />
</head>
<body class="theme-modern">
  <!-- Loader (só avança após escolher idioma) -->
  <div id="preloader">
    <div class="preloader-inner">
      <div class="spinner" aria-label="Loading"></div>
      <div class="lang-chooser" role="dialog" aria-labelledby="langTitle">
        <div id="langTitle" class="lang-title">Choose your language / Escolhe o idioma</div>
        <div class="lang-buttons">
          <button id="chooseEN" class="btn-rect">English</button>
          <button id="choosePT" class="btn-rect">Português</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Fundos -->
  <div class="wallpaper" aria-hidden="true"></div>
  <div class="scrim" aria-hidden="true"></div>

  <!-- BARRA SUPERIOR -->
  <div class="taskbar taskbar-top" role="toolbar">
    <!-- Hambúrguer só quando tabs colapsam -->
    <button class="task-button mobile-only" id="tb-menu-top" aria-haspopup="true" aria-expanded="false" aria-controls="mobileMenu" title="Menu">≡</button>

    <div class="tabs">
      <button class="task-button" id="tb-player" data-open="#win-player" data-i18n="tbPlayer">Player</button>
      <button class="task-button" id="tb-portfolio" data-open="#win-portfolio" data-i18n="tbPortfolio">Portfolio</button>
      <button class="task-button" id="tb-etic" data-open="#win-etic" data-i18n="tbEtic">ETIC</button>
      <button class="task-button" id="tb-pro" data-open="#win-pro" data-i18n="tbPro">Professional</button>
      <button class="task-button" id="tb-about" data-open="#win-about" data-i18n="tbAbout">About</button>
      <button class="task-button" id="tb-contact" data-open="#win-contact" data-i18n="tbContact">Contact</button>
    </div>

    <div id="nowPlaying" class="now-playing" aria-live="polite" hidden>
      <strong id="npLabel" class="np-label">Now playing:</strong>
      <span id="npText">—</span>
    </div>
  </div>

  <!-- Menu colapsado -->
  <div id="mobileMenu" class="mobile-menu" role="menu" aria-hidden="true">
    <button class="menu-item" data-open="#win-player" role="menuitem" data-i18n="tbPlayer">Player</button>
    <button class="menu-item" data-open="#win-portfolio" role="menuitem" data-i18n="tbPortfolio">Portfolio</button>
    <button class="menu-item" data-open="#win-etic" role="menuitem" data-i18n="tbEtic">ETIC</button>
    <button class="menu-item" data-open="#win-pro" role="menuitem" data-i18n="tbPro">Professional</button>
    <button class="menu-item" data-open="#win-about" role="menuitem" data-i18n="tbAbout">About</button>
    <button class="menu-item" data-open="#win-contact" role="menuitem" data-i18n="tbContact">Contact</button>
  </div>

  <!-- Desktop / Janelas -->
  <div class="desktop" id="desktop">
    <!-- Player window (compacto) -->
    <div class="win hidden" id="win-player" style="top:14vh;left:8vw;">
      <div class="titlebar" data-drag>
        <span class="title" id="title-player" data-i18n="titlePlayer">Leitor</span>
        <div class="window-controls">
          <button class="ctl" data-minimize="#win-player" title="Minimize" aria-label="Minimize">—</button>
          <button class="ctl" data-close="#win-player" title="Close" aria-label="Close">×</button>
        </div>
      </div>
      <div class="content">
        <div class="player" id="player">
          <!-- Seek (linha do tempo) -->
          <div class="row seek">
            <input id="seek" class="seekbar" type="range" min="0" max="1000" value="0" step="1" aria-label="Seek">
          </div>
          <!-- Tempo atual (esq) e duração (dir) na mesma linha -->
          <div class="row time-line">
            <span id="curTime" class="time">0:00</span>
            <span class="spacer"></span>
            <span id="durTime" class="time">0:00</span>
          </div>
          <!-- Now playing do leitor -->
          <div class="row np-line">
            <strong id="playerNpLabel" class="np-label">Now playing:</strong>
            <span class="track" id="trackTitle">—</span>
            <button class="btn-rect icon speaker speaker-on" id="btnMute" title="Mute / Unmute" aria-label="Mute / Unmute">🔊</button>
          </div>
          <!-- Controlo + VU -->
          <div class="row controls">
            <div class="ctrls">
              <button class="btn-rect icon" id="btnPrev" title="Back" aria-label="Back">⏮</button>
              <button class="btn-rect icon" id="btnPlay" data-i18n="btnPlay" title="Play" aria-label="Play">▶</button>
              <button class="btn-rect icon" id="btnPause" data-i18n="btnPause" title="Pause" aria-label="Pause">❚❚</button>
              <button class="btn-rect icon" id="btnStop" data-i18n="btnStop" title="Stop" aria-label="Stop">■</button>
              <button class="btn-rect icon" id="btnNext" title="Forward" aria-label="Forward">⏭</button>
            </div>
            <div class="vu" aria-hidden="true">
              <div class="bar" id="b1"></div><div class="bar" id="b2"></div><div class="bar" id="b3"></div><div class="bar" id="b4"></div><div class="bar" id="b5"></div>
            </div>
          </div>
        </div>
      </div>
      <!-- Apenas canto inferior direito -->
      <div class="resize-handle br" data-resize="br" aria-hidden="true"></div>
    </div>

    <!-- Portfolio -->
    <div class="win hidden" id="win-portfolio" style="top:22vh;left:22vw;">
      <div class="titlebar" data-drag>
        <div class="left"><span class="title" id="title-portfolio" data-i18n="titlePortfolio">Personal Portfolio</span></div>
        <div class="window-controls">
          <button class="ctl" data-minimize="#win-portfolio" aria-label="Minimize">—</button>
          <button class="ctl" data-close="#win-portfolio" aria-label="Close">×</button>
        </div>
      </div>
      <div class="content">
        <div class="list" id="portfolioList">
          <div class="item"><strong>SoundCloud — algarismx</strong><br><span class="muted">Original tracks, mixes and sound experiments.</span></div>
          <div class="item"><strong>Demos &amp; unreleased</strong><br><span class="muted">“Sempre Que Eu Quiser”, “Making Love”, “Gal”, “Boombap 101”, “Amen Dubplate Contest”, “Porque Eu”, “Paddy”, “Drum Pattern”, “Japanese Jungle”.</span></div>
          <div class="item"><strong>Global Game Jam 2023 — <em>Hair We Go!</em></strong><br><span class="muted">SFX and OST (Main Theme, Secondary Menu, Menu).</span></div>
        </div>
      </div>
      <div class="resize-handle br" data-resize="br"></div>
    </div>

    <!-- ETIC -->
    <div class="win hidden" id="win-etic" style="top:30vh;left:10vw;">
      <div class="titlebar" data-drag>
        <div class="left"><span class="title" id="title-etic" data-i18n="titleEtic">ETIC</span></div>
        <div class="window-controls">
          <button class="ctl" data-minimize="#win-etic" aria-label="Minimize">—</button>
          <button class="ctl" data-close="#win-etic" aria-label="Close">×</button>
        </div>
      </div>
      <div class="content">
        <div class="list" id="eticList"></div>
      </div>
      <div class="resize-handle br" data-resize="br"></div>
    </div>

    <!-- Professional -->
    <div class="win hidden" id="win-pro" style="top:38vh;left:34vw;">
      <div class="titlebar" data-drag>
        <div class="left"><span class="title" id="title-pro" data-i18n="titlePro">Professional</span></div>
        <div class="window-controls">
          <button class="ctl" data-minimize="#win-pro" aria-label="Minimize">—</button>
          <button class="ctl" data-close="#win-pro" aria-label="Close">×</button>
        </div>
      </div>
      <div class="content">
        <div class="list" id="proList"></div>
      </div>
      <div class="resize-handle br" data-resize="br"></div>
    </div>

    <!-- About -->
    <div class="win hidden" id="win-about" style="top:18vh;left:52vw;">
      <div class="titlebar" data-drag>
        <div class="left"><span class="title" id="title-about" data-i18n="titleAbout">About</span></div>
        <div class="window-controls">
          <button class="ctl" data-minimize="#win-about" aria-label="Minimize">—</button>
          <button class="ctl" data-close="#win-about" aria-label="Close">×</button>
        </div>
      </div>
      <div class="content">
        <div class="about-layout">
          <img class="about-photo" src="000002222.jpg" alt="Portrait of Ricardo Gonçalves Melgar" loading="lazy" />
          <div class="about-copy" id="aboutCopy"><!-- texto injetado via app.js --></div>
        </div>
      </div>
      <div class="resize-handle br" data-resize="br"></div>
    </div>

    <!-- Contact (mínimo) -->
    <div class="win hidden" id="win-contact" style="top:44vh;left:12vw;width:min(420px,92vw);">
      <div class="titlebar" data-drag>
        <div class="left"><span class="title" id="title-contact" data-i18n="titleContact">Contact</span></div>
        <div class="window-controls">
          <button class="ctl" data-minimize="#win-contact" aria-label="Minimize">—</button>
          <button class="ctl" data-close="#win-contact" aria-label="Close">×</button>
        </div>
      </div>
      <div class="content">
        <ul style="margin:0; padding-left:18px;">
          <li><a href="mailto:ricardo@algarismx.pt">ricardo@algarismx.pt</a></li>
          <li><a href="https://linkedin.com/in/algarismx" target="_blank" rel="noopener noreferrer">LinkedIn</a></li>
          <li><a href="https://instagram.com/algarismx" target="_blank" rel="noopener noreferrer">Instagram</a></li>
        </ul>
      </div>
      <div class="resize-handle br" data-resize="br"></div>
    </div>
  </div>

  <!-- BARRA INFERIOR -->
  <div class="taskbar taskbar-bottom" role="toolbar">
    <div id="kbdHints" class="kbd-hints" aria-hidden="true">Space — Play/Pause · ⌘/Ctrl+←/→ — Back/Forward · M — Menu · Esc — Close</div>
    <div class="spacer"></div>
    <div class="task-controls">
      <select class="theme-select" id="themeSelect" aria-label="Tema">
        <option value="win98">Windows 98/ME</option>
        <option value="modern" selected>Moderno</option>
      </select>
      <select class="lang-select" id="langSelect" aria-label="Idioma">
        <option value="en">EN</option>
        <option value="pt">PT</option>
      </select>
      <div class="task-clock" id="taskClock" aria-live="polite" aria-label="Relógio"></div>
    </div>
  </div>

  <script src="waves.js"></script>
  <script src="app.js"></script>
</body>
</html>