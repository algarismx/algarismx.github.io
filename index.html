<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="theme-color" content="#0a0a0a" />
  <title>Ricardo Gonçalves Melgar — algarismx</title>
  <meta name="description" content="Portfolio of Ricardo Gonçalves Melgar (algarismx) — Sound Designer, Sound Technician and Music Producer in Faro, Portugal.">
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div id="preloader">
    <div class="preloader-inner">
      <div class="spinner" aria-label="Loading"></div>
      <div class="lang-chooser" role="dialog" aria-labelledby="langTitle">
        <div id="langTitle" class="lang-title">Choose your language / Escolhe o idioma</div>
        <div class="lang-buttons">
          <button id="chooseEN" class="btn-rect">English</button>
          <button id="choosePT" class="btn-rect">Português</button>
        </div>
      </div>
    </div>
  </div>
  <div class="wallpaper" aria-hidden="true"></div>
  <div class="scrim" aria-hidden="true"></div>

  <div class="desktop" id="desktop">
    <!-- Player window -->
    <div class="win hidden" id="win-player" style="top:10vh;left:8vw;width:min(520px,92vw);">
      <div class="titlebar" data-drag>
        <div class="left"><span class="title" id="title-player" data-i18n="titlePlayer">Winamp — plaza.one radio</span></div>
        <div class="window-controls">
          <button class="ctl" data-minimize title="Minimize">–</button>
          <button class="ctl" data-close="#win-player" title="Close">×</button>
        </div>
      </div>
      <div class="content">
        <div class="player" id="player">
          <div class="row">
            <button class="btn-rect" id="btnPlay" data-i18n="btnPlay">Play</button>
            <button class="btn-rect" id="btnPause" data-i18n="btnPause">Pause</button>
            <button class="btn-rect" id="btnStop" data-i18n="btnStop">Stop</button>
            <div class="vu" aria-hidden="true">
              <div class="bar" id="b1"></div>
              <div class="bar" id="b2"></div>
              <div class="bar" id="b3"></div>
              <div class="bar" id="b4"></div>
              <div class="bar" id="b5"></div>
            </div>
          </div>
          <div class="row">
            <span class="track" id="trackTitle">https://radio.plaza.one/mp3</span>
            <input class="vol" id="vol" type="range" min="0" max="1" step="0.01" value="0.6" aria-label="Volume" />
          </div>
        </div>
      </div>
    </div>

    <!-- Personal Portfolio window -->
    <div class="win hidden" id="win-portfolio" style="top:18vh;left:22vw;">
      <div class="titlebar" data-drag>
        <div class="left"><span class="title" id="title-portfolio" data-i18n="titlePortfolio">Personal Portfolio</span></div>
        <div class="window-controls">
          <button class="ctl" data-close="#win-portfolio">×</button>
        </div>
      </div>
      <div class="content">
        <div class="list" id="portfolioList">
          <div class="item"><strong>SoundCloud — algarismx</strong><br><span class="muted">Original tracks, mixes and sound experiments.</span></div>
          <div class="item"><strong>Demos &amp; unreleased</strong><br><span class="muted">“Sempre Que Eu Quiser”, “Making Love”, “Gal”, “Boombap 101”, “Amen Dubplate Contest”, “Porque Eu”, “Paddy”, “Drum Pattern”, “Japanese Jungle”.</span></div>
          <div class="item"><strong>Global Game Jam 2023 — <em>Hair We Go!</em></strong><br><span class="muted">SFX and OST (Main Theme, Secondary Menu, Menu).</span></div>
        </div>
      </div>
    </div>

    <!-- ETIC window -->
    <div class="win hidden" id="win-etic" style="top:26vh;left:10vw;">
      <div class="titlebar" data-drag>
        <div class="left"><span class="title" id="title-etic" data-i18n="titleEtic">ETIC</span></div>
        <div class="window-controls">
          <button class="ctl" data-close="#win-etic">×</button>
        </div>
      </div>
      <div class="content">
        <div class="list" id="eticList">
          <div class="item"><strong>ETIC Algarve — 2020–2023</strong><br><span class="muted">Projects in music production, foley, sound design and recording for video/games.</span></div>
          <div class="item">Podcast — “J Dilla…”</div>
          <div class="item">Mestre da Vida (short film)</div>
          <div class="item">Foley — Cinema/Video</div>
          <div class="item">Project “Lábia — Human Trafficking”</div>
          <div class="item">Videogame Music Production</div>
          <div class="item">Mastering</div>
          <div class="item">Podcast — “Genesis of Sound”</div>
          <div class="item">“Bankruptcy”</div>
          <div class="item">LiveInsight Performance</div>
          <div class="item">Erasmus+ — “Sampling Prague”</div>
        </div>
      </div>
    </div>

    <!-- Professional window -->
    <div class="win hidden" id="win-pro" style="top:34vh;left:34vw;">
      <div class="titlebar" data-drag>
        <div class="left"><span class="title" id="title-pro" data-i18n="titlePro">Professional</span></div>
        <div class="window-controls">
          <button class="ctl" data-close="#win-pro">×</button>
        </div>
      </div>
      <div class="content">
        <div class="list" id="proList">
          <div class="item"><strong>ETIC Algarve — Diploma Delivery (2024)</strong><br><span class="muted">Continuous composition per course + specific SFX.</span></div>
          <div class="item"><strong>Internal technical support</strong><br><span class="muted">Recordings with students and teachers; equipment maintenance and management.</span></div>
          <div class="item"><strong>Short films and documentaries</strong><br><span class="muted">Sound direction, timecode sync and multi‑monitoring.</span></div>
        </div>
      </div>
    </div>


    <!-- About window -->
    <div class="win hidden" id="win-about" style="top:12vh;left:52vw;width:min(760px,92vw);">
      <div class="titlebar" data-drag>
        <div class="left"><span class="title" id="title-about" data-i18n="titleAbout">About</span></div>
        <div class="window-controls">
          <button class="ctl" data-close="#win-about">×</button>
        </div>
      </div>
      <div class="content">
        <div class="about-layout">
          <img class="about-photo" src="000002222.jpg" alt="Portrait of Ricardo Gonçalves Melgar" loading="lazy" />
          <div class="about-copy" id="aboutCopy">
            <p>Hi! My name is Ricardo a.k.a downware and I'm 24 years old.</p>
            <p>I am a music producer, sound designer and sound technician with a love for sampling and audio manipulation.</p>
            <p>Since I was a kid, I have been interested in music, with my main influences being 80s and 90s Pop, Hip-Hop, and R&amp;B.</p>
            <p>Currently, I produce Jungle, Drum&amp;Bass, Vaporwave, and Hip-Hop.</p>
            <p>I primarily work with Ableton Live but also have experience working with Pro Tools.</p>
            <p>I have a background in programming, but producing music has been a hobby of mine since I was 16. This hobby led me to pursue a course in Music Creation and Production Techniques at ETIC_Algarve in Faro, which turned me into a professional in the field of sound and music.</p>
            <p>Towards the end of my course, I had an internship at the studio of music producer and DJ, Sickonce (Rafael Correia), in Portimão. During the internship, I had the opportunity to participate in various recording, editing, and post-production sessions for different artists.</p>
            <p>I was fortunate to receive an Erasmus+ scholarship from ETIC_Algarve, which allowed me to intern for three months at Soundsgate, a company in Prague, Czech Republic. Among various projects, I highlight my role as a sound technician and assistant at the Composers Summit 2023 event.</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Contact window -->
    <div class="win hidden" id="win-contact" style="top:58vh;left:12vw;width:min(540px,92vw);">
      <div class="titlebar" data-drag>
        <div class="left"><span class="title" id="title-contact" data-i18n="titleContact">Contact</span></div>
        <div class="window-controls">
          <button class="ctl" data-close="#win-contact">×</button>
        </div>
      </div>
      <div class="content">
        <ul>
          <li>Email: <a href="mailto:ricardo@algarismx.pt">ricardo@algarismx.pt</a></li>
          <li>LinkedIn: <a href="https://linkedin.com/in/algarismx" target="_blank" rel="noopener noreferrer">algarismx</a></li>
          <li>Instagram: <a href="https://instagram.com/algarismx" target="_blank" rel="noopener noreferrer">@algarismx</a></li>
        </ul>
      </div>
    </div>

    <!-- Taskbar -->
    <div class="taskbar" role="toolbar">
      <button class="task-button" id="tb-player" data-open="#win-player" data-i18n="tbPlayer">Player</button>
      <button class="task-button" id="tb-portfolio" data-open="#win-portfolio" data-i18n="tbPortfolio">Portfolio</button>
      <button class="task-button" id="tb-etic" data-open="#win-etic" data-i18n="tbEtic">ETIC</button>
      <button class="task-button" id="tb-pro" data-open="#win-pro" data-i18n="tbPro">Professional</button>
      <button class="task-button" id="tb-about" data-open="#win-about" data-i18n="tbAbout">About</button>
      <button class="task-button" id="tb-contact" data-open="#win-contact" data-i18n="tbContact">Contact</button>
      
      <!-- Hamburger (collapses tabs on small widths) -->
      <button class="task-button mobile-only" id="tb-menu" aria-haspopup="true" aria-expanded="false" aria-controls="mobileMenu" title="Menu">≡</button>
<div id="nowPlaying" class="now-playing" aria-live="polite" hidden>
  <strong>Now playing:</strong> <span id="npText">—</span>
</div>
      <div class="spacer"></div>
      <div class="task-controls">
        <select class="theme-select" id="themeSelect" aria-label="Tema">
          <option value="win98">Windows 98/ME</option>
          <option value="modern" selected>Moderno</option>
        </select>
        <div class="task-clock" id="taskClock" aria-live="polite" aria-label="Relógio"></div>
      </div>
      
      <!-- Collapsed items (Start-like menu) -->
      <div id="mobileMenu" class="mobile-menu" role="menu" aria-hidden="true">
        <button class="menu-item" data-open="#win-player" role="menuitem" data-i18n="tbPlayer">Player</button>
        <button class="menu-item" data-open="#win-portfolio" role="menuitem" data-i18n="tbPortfolio">Portfolio</button>
        <button class="menu-item" data-open="#win-etic" role="menuitem" data-i18n="tbEtic">ETIC</button>
        <button class="menu-item" data-open="#win-pro" role="menuitem" data-i18n="tbPro">Professional</button>
        <button class="menu-item" data-open="#win-about" role="menuitem" data-i18n="tbAbout">About</button>
        <button class="menu-item" data-open="#win-contact" role="menuitem" data-i18n="tbContact">Contact</button>
      </div>
    </div>
  </div>

  <div id="kbdHints" class="kbd-hints" aria-hidden="true">Space — Play/Pause · M — Menu · Esc — Close</div>

  <script src="waves.js"></script>
  <script>
    // Aguardar que waves.js carregue completamente
    window.addEventListener('load', () => {
      setTimeout(() => {
        if (window.WavesController) {
          console.log('Waves loaded successfully');
          // Attach analyser if already present
          if (window.WavesController.attachAnalyser && window.appAnalyser) {
            window.WavesController.attachAnalyser(window.appAnalyser);
          }
        } else {
          console.error('Waves failed to load');
        }
      }, 100);
    });
  </script>
  <script>
  // Minimal non-React port inspired by reactbits.dev/backgrounds/dither
  (function(){
    const Bayer8 = [
      [0,48,12,60,3,51,15,63],
      [32,16,44,28,35,19,47,31],
      [8,56,4,52,11,59,7,55],
      [40,24,36,20,43,27,39,23],
      [2,50,14,62,1,49,13,61],
      [34,18,46,30,33,17,45,29],
      [10,58,6,54,9,57,5,53],
      [42,26,38,22,41,25,37,21]
    ];
    const scale8 = 1/64;

    const defaultPalette = [
      '#008080', // TEAL clássico Win9x/ME
      '#20A0A0', // teal + brilhante
      '#C0C0C0', // cinza UI
      '#F0F0F0'  // cinza claro
    ];

    function lerp(a,b,t){ return a + (b-a)*t; }
    function hexToRgb(h){
      const m = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(h);
      return m ? { r: parseInt(m[1],16), g: parseInt(m[2],16), b: parseInt(m[3],16) } : {r:0,g:0,b:0};
    }
    function makePalette(cols){ return cols.map(hexToRgb); }

    const DitherController = {
      _state: null,
      mount(opts){
        if (this._state) return;
        const palette = makePalette((opts && opts.palette) || defaultPalette);
        const speed = (opts && opts.speed) || 0.06;
        const noiseScale = (opts && opts.noiseScale) || 0.0018;

        const container = document.createElement('div');
        container.className = 'dither';
        const canvas = document.createElement('canvas');
        container.appendChild(canvas);
        document.body.appendChild(container);
        const ctx = canvas.getContext('2d');
        let w=0,h=0, id=null, t=0;

        function resize(){
          const r = container.getBoundingClientRect();
          w = canvas.width = Math.floor(r.width);
          h = canvas.height = Math.floor(r.height);
        }
        function hash(x,y,t){ // pseudo-noise simples
          const s = Math.sin(x*12.9898 + y*78.233 + t*43758.5453) * 43758.5453;
          return s - Math.floor(s);
        }
        function mix(p1,p2,tt){ return { r: lerp(p1.r,p2.r,tt), g: lerp(p1.g,p2.g,tt), b: lerp(p1.b,p2.b,tt) }; }

        function render(){
          if (!ctx) return;
          const img = ctx.createImageData(w,h);
          const data = img.data;
          for (let y=0; y<h; y++){
            for (let x=0; x<w; x++){
              const i = (y*w + x) * 4;
              // drift suave entre as cores da paleta
              const k = (Math.sin((t*speed) + x*noiseScale + y*noiseScale*0.7) * 0.5 + 0.5) * (palette.length-1);
              const k0 = Math.floor(k);
              const k1 = Math.min(palette.length-1, k0+1);
              const frac = k - k0;
              const col = mix(palette[k0], palette[k1], frac);
              // limiar de dithering ordenado
              const thr = Bayer8[y & 7][x & 7] * scale8;
              const lum = (col.r + col.g + col.b) / (255*3);
              const on = lum > thr;
              const r = on ? col.r : 0;
              const g = on ? col.g : 0;
              const b = on ? col.b : 0;
              data[i]=r|0; data[i+1]=g|0; data[i+2]=b|0; data[i+3]=255;
            }
          }
          ctx.putImageData(img,0,0);
          t += 1;
          id = requestAnimationFrame(render);
        }

        function onResize(){ resize(); }
        resize();
        id = requestAnimationFrame(render);
        window.addEventListener('resize', onResize);
        this._state = { container, id, onResize };
      },
      unmount(){
        const s = this._state; if (!s) return;
        window.removeEventListener('resize', s.onResize);
        cancelAnimationFrame(s.id);
        s.container.remove();
        this._state = null;
      }
    };
    window.DitherController = DitherController;
  })();
</script>
  <script src="app.js"></script>
</body>
</html>